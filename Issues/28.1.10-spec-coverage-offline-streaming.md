# Issue 28.1.10 - Spec Coverage Uplift for Offline & Streaming Scenarios

**Status:** Open  
**Priority:** Medium  
**Category:** Testing / Coverage  
**Created:** 2026-02-07  
**Parent Issue:** 28.1  
**GitHub Issue:** [#394](https://github.com/ezigus/zpod/issues/394)

## Description
Close the remaining acceptance-criteria gaps for AC10 by adding tests for unverified scenarios in `spec/offline-playback.md` and `spec/streaming-playback.md` (e.g., Wi‑Fi-only downloads, cellular warnings, download quality selection/validation, buffering edge cases, network-type changes, adaptive bitrate indicators, and range-seek behavior where applicable).

## Acceptance Criteria
- [ ] Missing offline scenarios (Wi‑Fi-only download, cellular warning, quality selection) are covered with automated tests (unit/integration/UI as appropriate).
- [ ] Missing streaming scenarios (buffering under slow network, network type change, adaptive quality, preloading/next episode, range-seek) have tests or documented deferrals with rationale.
- [ ] Test plan mapping updated so each spec scenario is marked Covered/Deferred with pointers to test classes.
- [ ] TestSummary.md updated to reflect added coverage and remaining deferrals.

## Implementation Approach
1. Audit spec scenarios vs current tests; produce a coverage table in dev-log entry.
2. Add focused unit/integration tests for quality selection/validation and network-type handling.
3. Add UI/UITest cases where UI is involved (cellular warning, Wi‑Fi-only toggle, buffering indicator under slow network).
4. Where platform support is missing, document deferral with follow-up issue references.
5. Run relevant suites (unit/integration + targeted UI) and capture results.

## Specification References
- `spec/offline-playback.md`
- `spec/streaming-playback.md`
- `spec/playback.md`

## Dependencies
- Issue 28.1.4 - Network Monitoring & Adaptation (network type change hooks)
- Issue 28.1.6 - UI Integration: Download/Streaming Indicators (UI affordances)
- Issue 28.1.9 - UI Test Hardening (stable test infra)

## Estimated Effort
Medium (2–3 days)

## Success Metrics
- Spec coverage increases from 65% to ≥90% or all remaining gaps formally deferred.
- New tests pass locally and in CI.

## Testing Strategy
- Unit/integration tests for business logic paths.
- Targeted UI tests for warning/indicator flows.
- Update test plans and TestSummary.md with coverage notes. 
