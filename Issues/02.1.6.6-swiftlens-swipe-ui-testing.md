# Issue 02.1.6.6: SwiftLens Swipe UI Test Coverage

## Priority
Medium — Improves test reliability and maintainability for swipe configuration

## Status
In Progress — SwiftLens infrastructure integrated, tests being migrated

## Description
Adopt the SwiftLens SwiftUI testing library (https://github.com/gahntpo/SwiftLens) for the swipe configuration workflow so UI tests are more reliable than XCUITest-only flows. This issue focuses on the swipe configuration UI and related episode list swipe actions, using SwiftLens instrumentation in production views and SwiftLensTestSupport in AppSmoke/Integration/UI tests. This is the SwiftUI testing library, not the SwiftLens MCP server.

## Objectives
- Instrument swipe configuration views with SwiftLens identifiers (lensTracked, lensButton, lensToggle, lensGroup) that reflect user-facing state changes.
- Build SwiftLensTestSupport-based tests for swipe configuration and preset selection, replacing fragile XCUITest interactions where practical.
- Ensure the SwiftLens-based tests run in CI and locally without changing app behavior.

## Acceptance Criteria
1. SwiftLens identifiers exist for swipe configuration controls (leading/trailing actions, full-swipe toggles, haptic toggles, presets).
2. SwiftLensTestSupport tests validate:
   - Preset selection updates summary state.
   - Haptic toggle/intensity persistence across launches.
   - Swipe actions configured in settings are reflected in the episode list model/UI state.
3. Tests avoid fixed sleeps and rely on SwiftLens observer waiters for visible state changes.
4. SwiftLens usage is documented in the test files and references <https://github.com/gahntpo/SwiftLens> (SwiftUI testing library).
5. CI runs the SwiftLens-based tests as part of existing test targets without additional tooling changes.

## Dependencies
- SwiftLens package already added to the app target (`zpod`) and SwiftLensTestSupport added to test targets (AppSmokeTests, IntegrationTests, zpodUITests).
- Related: Issue 02.6.3 (Swipe configuration test decomposition).

## Spec References
- `Issues/02.1-episode-list-management-ui.md` — Scenario 6: Swipe gestures & quick actions.
- `spec/ui.md` — "Customizing Swipe Gestures".

## Testing Strategy
- Add SwiftLens-based tests to `zpodUITests` (and targeted smoke/integration where useful).
- Use `LensWorkBench`, `LensObserver`, `LensInteractor` to drive interactions.
- Keep XCUITest coverage only for flows not reachable via SwiftLens.
