# Issue 28.1.6 - UI Integration: Download/Streaming Indicators

**Status:** Complete  
**Priority:** High  
**Category:** UI / Playback  
**Created:** 2026-01-14  
**Completed:** 2026-02-10  
**Parent Issue:** 28.1  
**GitHub Issue:** [#342](https://github.com/ezigus/zpod/issues/342)

## Description
Surface download, offline, and streaming state in the UI across episode lists and player surfaces. Add buffer progress visuals for streaming and make all indicators accessible.

## Acceptance Criteria
- [ ] Episode list shows download status (not downloaded, downloading with progress, downloaded, failed) with accessible labels.
- [ ] Player UI shows "Downloaded" vs "Streaming" indicator based on playback source.
- [ ] Streaming playback displays buffer progress distinct from playback progress.
- [ ] Offline playback is clearly labeled and does not show streaming indicators.
- [ ] Network loss shows "No Connection" indicator and resumes when restored.
- [ ] Indicators update within 500ms of state changes.

## Implementation Approach
1. Design: add dev-log entry with UI mapping (episode list, mini player, expanded player).
2. Expose playback source and buffer state from UnifiedPlaybackCoordinator.
3. Update EpisodeListView and PlayerFeature views to render indicators.
4. Add accessibility identifiers/labels and VoiceOver hints.
5. Update UI tests and TestSummary to cover new indicators.

## Specification References
- `zpod/spec/offline-playback.md` (Offline Indicator in UI, Download Progress Tracking)
- `zpod/spec/streaming-playback.md` (Buffer Progress Indication, Network Loss During Playback)
- `zpod/spec/ui.md` (Player interface accessibility)

## Dependencies
- Issue 28.1.5 - Unified Playback Coordinator
- Issue 28.1.1 - Download Manager Implementation
- Issue 28.1.2 - Local Storage and File Management
- Issue 28.1.3 - Streaming Engine with Buffering
- Issue 04.1.1 - Core Download Progress and Queue Management (downloads section UI)

## Estimated Effort
Medium (2-3 days)

## Success Metrics
- Indicators appear within 500ms of state changes.
- 100% of new indicator elements have accessibility identifiers and VoiceOver labels.
- UI tests cover streaming vs offline vs downloading states.

## Testing Strategy
- Unit tests: view model formatting for indicator text/labels.
- UI tests: episode list and player indicators for each state.
- Accessibility checks for indicator labels.
