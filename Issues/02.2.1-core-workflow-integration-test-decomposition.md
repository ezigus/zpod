# Issue 02.2.1: CoreWorkflowIntegrationTests Decomposition

## Description
`IntegrationTests/CoreWorkflowIntegrationTests.swift` currently spans ~675 lines and contains multiple end-to-end flows that mix search, playlist, download, and settings assertions. The size and scope make failures difficult to triage and force a SwiftLint suppression. We need to break these workflows into smaller, spec-targeted suites while retaining coverage.

## Acceptance Criteria
- Identify discrete Given/When/Then flows and split them into focused XCTest cases or helper types per domain (e.g., search, playlist, settings).
- CoreWorkflowIntegrationTests.swift shrinks below 500 executable lines without lint suppressions.
- New/updated tests continue to exercise the scenarios currently covered (see Spec References) and pass reliably.
- Shared setup utilities extracted into reusable test support modules where duplication would otherwise occur.

## Spec References
- zpod/spec/spec.md (Cross-spec discovery and playlist scenarios at lines 114-235).
- zpod/spec/discovery.md (Subscription discovery flows at lines 36-120).
- zpod/spec/playback.md (Playback queue management scenarios at lines 96-140).
- zpod/spec/settings.md (Persistence across sessions at lines 40-92).

## Dependencies
- Coordinates with Issue 02.2 to align decomposition strategy across oversized types.

## Testing Strategy
- Create/extend dedicated integration test classes per scenario grouping.
- Use existing `TestSupport` utilities or add new helpers to keep async setup safe.
- Validate with `./scripts/run-xcode-tests.sh -t zpod` and targeted suite runs before removing the lint suppression.
