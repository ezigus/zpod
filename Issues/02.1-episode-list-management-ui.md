# Issue 02.1: Episode List Management UI

## Priority
High

## Status
ðŸ”„ Planned

## Description
Implement comprehensive episode list management interface with sorting, filtering, batch operations, and enhanced episode detail views. This builds on the episode detail backend (Issue #02) to provide a complete episode browsing and management experience.

## Acceptance Criteria

### Given/When/Then Scenarios

#### Scenario 1: Episode List Display and Navigation
- **Given** I have subscribed to podcasts with episodes
- **When** I tap on a podcast in my library
- **Then** I should see a well-organized list of episodes with artwork, titles, duration, and publication dates
- **And** I should be able to scroll smoothly through large episode lists
- **And** Tapping an episode should open the detailed episode view

#### Scenario 2: Episode Sorting and Filtering
- **Given** I am viewing a podcast's episode list
- **When** I tap the sort/filter button
- **Then** I should be able to sort by: publication date (newest/oldest), duration, play status
- **And** I should be able to filter by: unplayed, downloaded, favorited, in-progress
- **And** Applied filters should be visually indicated and persistent per podcast

#### Scenario 3: Batch Episode Operations
- **Given** I am viewing an episode list
- **When** I tap "Select" or long-press an episode
- **Then** I should enter multi-select mode with checkboxes
- **And** I should be able to select multiple episodes
- **And** I should see batch action options: Download, Mark as Played, Add to Playlist, Delete

#### Scenario 4: Episode Status Management
- **Given** I am viewing episodes with various states (played, downloading, etc.)
- **When** I look at the episode list
- **Then** Each episode should clearly show its status with appropriate icons/indicators
- **And** I should be able to mark episodes as played/unplayed with single tap
- **And** Download progress should be visible for downloading episodes

## Implementation Approach

### Phase 1: Core Episode List (Week 1-2)
1. **Episode List Component**
   - Create responsive episode list with proper cell design
   - Implement artwork loading with caching
   - Add episode status indicators (played, downloaded, duration, etc.)

2. **Navigation and Detail View**
   - Enhance episode detail view from placeholder
   - Add proper navigation between list and detail
   - Implement episode metadata display

### Phase 2: Sorting and Filtering (Week 2-3)
1. **Sort Implementation**
   - Add sort options interface (sheet or segmented control)
   - Implement all sorting criteria with proper data handling
   - Persist sort preferences per podcast

2. **Filter Implementation**
   - Create filter UI with multiple selection options
   - Implement efficient filtering with real-time updates
   - Add visual filter indicators

### Phase 3: Batch Operations (Week 3-4)
1. **Multi-Select Mode**
   - Implement selection state management
   - Add batch action toolbar
   - Handle bulk operations efficiently

2. **Episode Operations**
   - Connect to download service for batch downloads
   - Implement play status updates
   - Add playlist integration for bulk addition

### Phase 4: Polish and Performance (Week 4)
1. **Performance Optimization**
   - Implement lazy loading for large episode lists
   - Add smooth scrolling optimizations
   - Optimize artwork loading and caching

2. **Accessibility and Polish**
   - Add comprehensive VoiceOver support
   - Implement Dynamic Type sizing
   - Polish animations and transitions

## Specification References
- `content.md`: Episode management and organization
- `playback.md`: Episode detail and playback integration
- `ui.md`: List design patterns and user interactions
- `download.md`: Download status and management integration

## Dependencies
- **Required**: Issue #02 (Episode Detail backend)
- **Required**: Issue #01 (Subscription management for podcast context)
- **Recommended**: Issue #04 (Download functionality for download operations)
- **Optional**: Issue #06 (Playlist functionality for playlist operations)

## Estimated Effort
**Complexity**: Medium-High  
**Time Estimate**: 3-4 weeks  
**Story Points**: 13

## Success Metrics
1. **Performance Metrics**
   - Episode lists load within 1 second for up to 500 episodes
   - Smooth scrolling at 60fps during browsing
   - Artwork loads progressively without blocking UI

2. **Usability Metrics**
   - Users can find specific episodes using filters in under 10 seconds
   - Batch operations complete successfully for up to 50 episodes
   - Episode status is immediately clear to users

3. **Accessibility Metrics**
   - Full VoiceOver navigation with descriptive labels
   - Dynamic Type support for all text content
   - Voice Control compatibility for all major actions

## Risk Mitigation
- **Memory Usage**: Implement cell reuse and artwork caching strategies
- **Large Lists**: Use lazy loading and virtualization for performance
- **Data Consistency**: Ensure UI reflects real-time episode status changes

## Testing Strategy
1. **Unit Tests**: Sorting, filtering, and selection logic
2. **Integration Tests**: Backend service integration for operations
3. **UI Tests**: Complete user workflows and multi-select operations
4. **Performance Tests**: Large episode list scrolling and memory usage
5. **Accessibility Tests**: VoiceOver navigation and Voice Control compliance