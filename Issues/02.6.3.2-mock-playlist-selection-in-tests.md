# 02.6.3.2 - Mock Playlist Selection in SwipeExecution Tests

## Description

Replace expensive playlist navigation flows in `SwipeExecutionTests` with lightweight mocks to eliminate multi-second waits and reduce test runtime from ~3 minutes to < 1 minute.

## Problem Statement

1. **Slow playlist selection**: Tests currently perform full UI navigation to select playlists, adding 5-10 seconds per interaction
2. **Unnecessary integration testing**: Execution tests need configured swipe actions, not verified playlist selection flows
3. **CI bottleneck**: SwipeExecution tests are slower than necessary due to playlist UI overhead
4. **Flakiness risk**: Full playlist navigation introduces more interaction points where timing issues can occur

## Proposed Solution

Introduce lightweight mocks for playlist selection:

**Option 1: Direct UserDefaults Seeding**
- Seed playlist selections directly via UserDefaults before test
- Skip playlist UI navigation entirely
- Tests verify swipe execution with pre-configured playlists

**Option 2: Test-Only API**
- Add `#if DEBUG` test helper to directly set playlist configurations
- Bypass UI entirely for test setup
- Production code unchanged, test code simplified

**Recommended Approach**: Option 1 (UserDefaults seeding) since it:
- Reuses existing seeding infrastructure from `SwipeConfigurationTestSupport+Seeding`
- Requires no production code changes
- Follows same pattern as other configuration seeding

## Acceptance Criteria

- [ ] `SwipeExecutionTests` uses mocked/seeded playlist selections instead of UI navigation
- [ ] No playlist selection UI interactions during execution tests
- [ ] SwipeExecutionTests runtime reduced from ~3 min to < 1 min
- [ ] All original swipe execution coverage maintained
- [ ] Tests remain isolated (no shared state between runs)
- [ ] Seeding helpers documented in test support files

## Implementation Notes

**Current Flow**:
```swift
// Expensive: Full UI navigation to select playlist
openPlaylistSelectionSheet()
selectPlaylist("My Playlist")
waitForSheetDismissal()
// Then test swipe execution
```

**Mocked Flow**:
```swift
// Fast: Direct seeding via UserDefaults
seedPlaylistConfiguration(["My Playlist": [...episodes]])
// Immediately test swipe execution
```

## Benefits

- **3x faster execution tests**: Eliminate 2-3 minutes of playlist navigation overhead
- **Reduced flakiness**: Fewer UI interactions = fewer timing-dependent failures
- **Clearer test intent**: Tests focus on swipe execution, not playlist management
- **Better CI performance**: Faster feedback on swipe gesture functionality

## References

- Parent Issue: #131 (SwipeConfiguration UI Test Decomposition)
- Related: `SwipeConfigurationTestSupport+Seeding.swift` (existing seeding infrastructure)
- Test File: `zpodUITests/SwipeExecutionTests.swift`
- Dev Log: `dev-log/02.6.3-swipe-configuration-test-decomposition.md`
