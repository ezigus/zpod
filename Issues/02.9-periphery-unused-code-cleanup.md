# Issue 02.9: Periphery Unused Code Cleanup

## Description
Periphery scan (`/opt/homebrew/bin/periphery scan --project zpod.xcodeproj --schemes zpod`) reports a large set of unused symbols across app, packages, and test targets. This issue tracks a structured cleanup to remove genuinely unused code, tighten access control, and document intentional exceptions. The latest full scan output is stored at `TestResults/Periphery_20251220_145703_zpod.log`. GitHub tracking issue: https://github.com/ezigus/zpod/issues/160.

## Steps
1. Capture a fresh Periphery scan log and keep the latest three logs in `TestResults/`.
2. Classify findings by module/target (IntegrationTests, CoreModels, SettingsDomain, SharedUtilities, TestSupport, zpod, zpodUITests) and create a triage checklist.
3. For each module, validate usage by:
   - Searching for references (including dynamic uses like `@objc`, `Notification.Name`, KVC, and runtime-only calls).
   - Confirming whether public APIs are consumed by other modules or external targets.
4. Remove dead code (types, functions, properties, imports) and update call sites or tests accordingly.
5. Tighten access control on symbols that are only used within a module (e.g., `public` -> `internal`) so Periphery can verify real usage.
6. For symbols intentionally retained but unused, add explicit documentation and Periphery ignore annotations or configuration (create `periphery.yml` with scoped `retain` rules if needed).
7. Update specs/dev-logs for any behavioral removals that change test coverage or public API expectations.
8. Re-run Periphery and SwiftLint after each module cleanup; keep the log artifacts updated.

## Acceptance Criteria
- Periphery scan runs cleanly for `zpod` (or remaining intentional retains are documented and scoped).
- No unused imports or unused symbols remain in IntegrationTests and zpodUITests.
- Public APIs remain correct and validated; any access-level reductions are intentional and documented.
- Test suites affected by removals are updated and remain green (`./scripts/run-xcode-tests.sh -t <suite>`).
- Updated documentation/dev logs summarize cleanup decisions and any retained exceptions.

## Spec References
- spec/spec.md (Module behavior; ensure removals do not break referenced scenarios).
- spec/ui.md (UI coverage for flows impacted by test cleanup).
- spec/discovery.md (Discovery flow coverage when removing unused discovery helpers).

## Dependencies
- Relies on Periphery availability (`/opt/homebrew/bin/periphery`) and a working `zpod` scheme build.
- Coordinate with ongoing refactors in `Issues/02.2-oversized-type-refactors.md` and `Issues/02.5-testing-cleanup.md` if overlapping test infrastructure is impacted.

## Testing Strategy
- Use targeted suite runs after each module cleanup (e.g., `./scripts/run-xcode-tests.sh -t IntegrationTests`).
- Re-run `periphery scan --project zpod.xcodeproj --schemes zpod` after each cleanup pass.
- Run `./scripts/run-xcode-tests.sh -l` at the end to confirm lint remains clean.
