# Issue 02.1.9: Episode List Inline Action Cluster

**Status**: F4DD Draft

**Priority**: High

**Parent**: 02.1 - Episode List Management UI

## Description

The library episode list UI is cluttered and inconsistent. Each episode row should expose a cohesive inline action cluster with a play/pause toggle, favorite (heart), and bookmark/tag action. The play control should reflect the current playback state (triangle when idle, pause when playing) so users can understand and control playback directly from the list.

## Acceptance Criteria

### Scenario 1: Inline Action Cluster Presence
- **Given** I am viewing a podcast's episode list
- **When** an episode row is visible
- **Then** I see a compact inline action cluster aligned to the right of the row
- **And** the cluster contains exactly three controls: Play/Pause, Favorite (heart), Bookmark/Tag
- **And** the cluster maintains consistent spacing and alignment across rows

### Scenario 2: Play/Pause State Reflection
- **Given** an episode is not playing
- **When** I view its row
- **Then** the play control shows a triangle (play) icon
- **When** I start playback for that episode
- **Then** the icon switches to a pause symbol in the same row
- **And** other episode rows remain in the play state

### Scenario 3: Favorite and Bookmark Feedback
- **Given** an episode is not favorited or bookmarked
- **When** I tap the heart icon
- **Then** the heart visually indicates the favorited state
- **When** I tap the bookmark icon
- **Then** the bookmark visually indicates the bookmarked/tagged state
- **And** both controls expose accessibility labels that include the current state

### Scenario 4: Accessibility and Interaction
- **Given** VoiceOver is enabled
- **When** I focus on the inline action cluster
- **Then** each control has a unique accessibility identifier and clear label
- **And** the play control exposes "Play" or "Pause" based on state

## Spec References

- `zpod/spec/ui.md` - Episode List Inline Actions (new section)

## Dependencies

- Playback state needs to be available in the episode list (03.3.1 position ticking, 03.1.1.x playback state sync)
- Favorite/bookmark persistence must be defined (Issues 11.1.x for bookmarks, 07.1.x for tags) or stubbed for UI scaffolding

## Testing Strategy

- UI tests to verify the inline action cluster appears on episode list rows
- UI tests to verify play/pause icon toggles for the active episode
- UI tests to verify favorite/bookmark toggles update state and accessibility labels
- Manual verification across Dynamic Type sizes and VoiceOver

## Notes

This issue focuses on UI presentation and interaction patterns. Implementation should avoid adding new persistence layers; it should wire into existing favorite/bookmark/tag services or use lightweight stubs until those domains are implemented.
