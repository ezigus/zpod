# Issue 27.1.1.5 — Settings Orphan Badge Live Updates

## Status
Proposed

## Description
The Settings › Storage row for **Orphaned Episodes** currently shows a badge that is loaded once on view appearance/refresh. If orphan counts change while the Settings screen stays open (e.g., background sync marks new orphans or user deletes orphans elsewhere), the badge can become stale until the view is refreshed. We should switch to a standard badge-updating pattern that observes orphaned-episode changes and updates the badge reactively.

## Acceptance Criteria
1. Badge on Settings › Storage › Orphaned Episodes reflects the current orphan count without manual refresh or navigation away/back.
2. Count updates within a user-visible latency budget (≤ 1s after the underlying orphan set changes).
3. Badge remains zero/hidden when there are no orphans.
4. No extra Settings refresh indicator appears solely for badge updates; scrolling and interactions remain responsive.
5. Unit/UI tests cover:
   - Badge updates when an orphan is created.
   - Badge updates when orphans are deleted (single + bulk).
   - Badge hides when count reaches zero.

## Constraints / Notes
- Align with the app’s “standard iOS badge updating logic” (e.g., use async streams/observers, not manual polling).
- Respect actor isolation; updates must originate from the repository’s settings change stream if available.
- Avoid excessive work on `onAppear`; prefer a dedicated observable source.

## Dependencies
- Base orphaned episodes feature (Issue 27.1.1.4) — Complete.
- Settings change stream infrastructure in SettingsRepository (if needed).

## Testing Strategy
- Unit: ViewModel/observer that drives badge count.
- UI: XCUITest scenario where orphan seeds change after Settings is open; assert badge updates without re-navigation.
- Integration: Optional—simulate repository change stream to verify badge update propagation timing.

## Estimation
Small-to-medium (reusable observer + tests).
