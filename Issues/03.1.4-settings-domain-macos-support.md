# Issue 03.1.4: Extend Settings Stack for macOS Support

## Priority
Medium

## Status
ðŸ†• Proposed

## Description
Add macOS support to the settings-related Swift packages (SettingsDomain, Persistence, CoreModels, SharedUtilities) so they compile and test under SwiftPM on macOS while retaining iOS/watchOS compatibility. This enables local `swift test` runs for SettingsDomain and prepares the modular configuration work for desktop tooling.

## Acceptance Criteria
- Package manifests for SettingsDomain, Persistence, CoreModels, and SharedUtilities declare `.macOS(.v14)` (or newer) alongside existing platforms.
- All source files in those packages compile for macOS without conditional compilation warnings.
- Required macOS availability annotations or `#if canImport` guards are added to actor/ObservableObject code so builds remain warning-free on every platform.
- SwiftPM `swift test` succeeds for SettingsDomain and Persistence on macOS.
- `IntegrationTests` bundle is included in the shared Xcode scheme/test plan so `./scripts/run-xcode-tests.sh -t IntegrationTests` runs via xcodebuild.
- CI/workspace scripts continue to build iOS targets with no regressions and front-load a macOS leg that executes SettingsDomain, Persistence, and IntegrationTests.
- GitHub Actions workflow runs `zpod`, `zpodUITests`, and `IntegrationTests` in parallel jobs for the macOS leg.

## Specification References
- `spec/settings.md` â€” Global settings architecture expectations.
- `spec/ui.md` â€” Cross-platform considerations for settings UI.

## Dependencies
- Blocks none.
- Blocked by: none (pure infrastructure change).
- Related to Issue 02.1.6.3 (modular settings refactor) for future registry integration.

## Testing Strategy
- Run `swift build` and `swift test` for each affected package on macOS.
- Execute `./scripts/run-xcode-tests.sh -s` to confirm iOS builds remain green.
- Spot-check a workspace build (`./scripts/run-xcode-tests.sh -b zpod`) to ensure no regression in app targets.
- After wiring `IntegrationTests` into the scheme, run `./scripts/run-xcode-tests.sh -t IntegrationTests` and capture result bundles.
- Verify GitHub Actions matrix executes `zpod`, `zpodUITests`, and `IntegrationTests` jobs concurrently and archives all logs.
