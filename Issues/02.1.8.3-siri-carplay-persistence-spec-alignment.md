# Issue 02.1.8.3: Siri/CarPlay Persistence Spec Alignment

**Status**: Open
**Priority**: P2 - Documentation/Spec Alignment
**Created**: 2026-01-17
**Category**: Specs / Siri + CarPlay

## Description
Add explicit Siri and CarPlay persistence-after-restart scenarios to the specs so they can be mapped to existing or planned tests. This is scoped to spec clarity and test mapping only; no production code changes are part of this issue.

## Problem Statement
The specs already cover "subscription persists after restart" and "Siri/Shortcuts integration" separately, but they do not explicitly state that Siri/CarPlay queries must reflect the persisted library after an app restart. Issue 27.1.2 intentionally avoided expanding specs, so this scope needs its own tracked issue.

## Acceptance Criteria
- Add a Siri/Shortcuts persistence-after-restart scenario to `zpod/spec/customization.md` under the existing Siri integration section.
- Add a CarPlay persistence-after-restart scenario to `zpod/spec/ui.md` under the CarPlay layout/navigation section.
- Each new scenario uses Given/When/Then format and references persisted library state (subscriptions and organization after app relaunch).
- Update `IntegrationTests/TestSummary.md` to map the new scenarios to the appropriate test coverage or to note a coverage gap.
- Document the known limitation that episode metadata may be sparse after restart until Issue 28.1.8 is complete.

## Spec References
- `zpod/spec/customization.md` (Siri, iOS Shortcuts, and Google Assistant Integration)
- `zpod/spec/ui.md` (Navigating with Car Layout / CarPlay-related scenarios)
- `zpod/spec/discovery.md` (subscription persists after restart; referenced by new scenarios)

## Dependencies
- Issue 02.1.8.1 (CarPlay Siri data wiring)
- Issue 27.1.2 (Siri snapshot verification test coverage)
- Related: Issue 28.1.8 (episode metadata persistence for Siri)

## Testing Strategy
- Map the new spec scenarios to existing or planned tests in `IntegrationTests/TestSummary.md`.
- If `IntegrationTests/PodcastPersistenceIntegrationTests.testSiriSnapshotReflectsPersistentData` is implemented, reference it for Siri snapshot validation.
- If no tests exist for CarPlay persistence-after-restart, record the gap and the expected test location (IntegrationTests or UI tests).

## Out of Scope
- Any production changes to snapshot generation or Siri/CarPlay wiring.
- Episode persistence work (tracked in Issue 28.1.8).
