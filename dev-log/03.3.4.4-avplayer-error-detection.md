# Dev Log: Issue 03.3.4.4 — AVPlayer Error Detection

**Issue**: [#321](https://github.com/ezigus/zpod/issues/321)  
**Branch**: `03.3.4.4-error-detection`  
**Status**: ✅ Complete  
**Date**: 2026-01-08

## Summary

- Mapped `AVPlayer`/`AVPlayerItem` failures to `PlaybackError` cases (`networkError`, `timeout`, `unknown`) via the new `mapAVError` helper and emitted those mapped values through both the KVO status observer and the `AVPlayerItemFailedToPlayToEndTime` notification.  
- Added OSLog diagnostics so both the engine and `EnhancedEpisodePlayer.failPlayback` log episode ID, URL, position, and the user-facing error message whenever a failure occurs.  
- Adjusted the nil-audio branch to emit `.missingAudioURL` and updated the integration/engine tests accordingly.  
- Enhanced `run-xcode-tests.sh` so you can call `-t <PackageName>Tests` (e.g., `-t PlaybackEngineTests`) and the script will map that alias to the package and run `swift test`. Verified with `./scripts/run-xcode-tests.sh -t PlaybackEngineTests`.
